{
  "_format": "hh3-artifact-1",
  "contractName": "PolicyRegistry",
  "sourceName": "contracts/PolicyRegistry.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "subject",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "policyGroupId",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "version",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "PolicyDeleted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "subject",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "policyGroupId",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "version",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "policyHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "PolicyRecorded",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "name": "currentVersion",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "subject",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "policyGroupId",
          "type": "string"
        }
      ],
      "name": "deletePolicy",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "subject",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "policyGroupId",
          "type": "string"
        }
      ],
      "name": "getCurrentVersion",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "subject",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "policyGroupId",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "version",
          "type": "uint256"
        }
      ],
      "name": "getPolicy",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "policyHash",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "versionNumber",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "enum PolicyRegistry.PolicyStatus",
          "name": "status",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "policies",
      "outputs": [
        {
          "internalType": "bytes32",
          "name": "policyHash",
          "type": "bytes32"
        },
        {
          "internalType": "uint256",
          "name": "versionNumber",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "enum PolicyRegistry.PolicyStatus",
          "name": "status",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "subject",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "policyGroupId",
          "type": "string"
        },
        {
          "internalType": "bytes32",
          "name": "policyHash",
          "type": "bytes32"
        }
      ],
      "name": "recordPolicy",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052348015600e575f5ffd5b506107cc8061001c5f395ff3fe608060405234801561000f575f5ffd5b5060043610610060575f3560e01c8063443eb5701461006457806350aa0795146100b257806362aacea6146100c55780636f43059c1461012d578063b6a6419914610140578063fc92fca514610155575b5f5ffd5b61009f6100723660046105ef565b600160209081525f9283526040909220815180830184018051928152908401929093019190912091525481565b6040519081526020015b60405180910390f35b61009f6100c036600461063a565b610168565b61011d6100d336600461063a565b5f6020818152938152604080822084518086018701805192815290870195870195909520945292909352825290208054600182015460028301546003909301549192909160ff1684565b6040516100a994939291906106a1565b61011d61013b36600461063a565b6102f7565b61015361014e3660046105ef565b6103c1565b005b61009f6101633660046105ef565b6104f8565b6001600160a01b0383165f9081526001602052604080822090518291906101909086906106e1565b90815260200160405180910390205460016101ab91906106f7565b905060405180608001604052808481526020018281526020014281526020015f60018111156101dc576101dc61068d565b90526001600160a01b0386165f908152602081905260409081902090516102049087906106e1565b90815260200160405180910390205f8381526020019081526020015f205f820151815f015560208201518160010155604082015181600201556060820151816003015f6101000a81548160ff021916908360018111156102665761026661068d565b021790555050506001600160a01b0385165f908152600160205260409081902090518291906102969087906106e1565b908152602001604051809103902081905550846001600160a01b03167f551214038e41b26ba4574f3b64616e6fd4d57637adaf59b240080d3effd128aa858386426040516102e79493929190610744565b60405180910390a2949350505050565b5f5f5f5f5f5f5f896001600160a01b03166001600160a01b031681526020019081526020015f208760405161032c91906106e1565b90815260408051602092819003830181205f8a8152908452829020608082018352805482526001808201549483019490945260028101549282019290925260038201549092606084019160ff16908111156103895761038961068d565b600181111561039a5761039a61068d565b905250805160208201516040830151606090930151919b909a509198509650945050505050565b6001600160a01b0382165f9081526001602052604080822090516103e69084906106e1565b90815260200160405180910390205490505f81116104425760405162461bcd60e51b8152602060048201526015602482015274141bdb1a58de48191bd95cc81b9bdd08195e1a5cdd605a1b604482015260640160405180910390fd5b60015f5f856001600160a01b03166001600160a01b031681526020019081526020015f208360405161047491906106e1565b90815260408051602092819003830190205f85815292529020600301805460ff1916600183818111156104a9576104a961068d565b0217905550826001600160a01b03167f220e4e18f818c7edbdeb6b2c99955c11187d492f00e732ece3cb8d59e963a5a58383426040516104eb93929190610772565b60405180910390a2505050565b6001600160a01b0382165f90815260016020526040808220905161051d9084906106e1565b90815260200160405180910390205490505b92915050565b80356001600160a01b038116811461054b575f5ffd5b919050565b634e487b7160e01b5f52604160045260245ffd5b5f82601f830112610573575f5ffd5b813567ffffffffffffffff81111561058d5761058d610550565b604051601f8201601f19908116603f0116810167ffffffffffffffff811182821017156105bc576105bc610550565b6040528181528382016020018510156105d3575f5ffd5b816020850160208301375f918101602001919091529392505050565b5f5f60408385031215610600575f5ffd5b61060983610535565b9150602083013567ffffffffffffffff811115610624575f5ffd5b61063085828601610564565b9150509250929050565b5f5f5f6060848603121561064c575f5ffd5b61065584610535565b9250602084013567ffffffffffffffff811115610670575f5ffd5b61067c86828701610564565b925050604084013590509250925092565b634e487b7160e01b5f52602160045260245ffd5b848152602081018490526040810183905260808101600283106106d257634e487b7160e01b5f52602160045260245ffd5b82606083015295945050505050565b5f82518060208501845e5f920191825250919050565b8082018082111561052f57634e487b7160e01b5f52601160045260245ffd5b5f81518084528060208401602086015e5f602082860101526020601f19601f83011685010191505092915050565b608081525f6107566080830187610716565b6020830195909552506040810192909252606090910152919050565b606081525f6107846060830186610716565b6020830194909452506040015291905056fea2646970667358221220d20ef2d638a8eef69e6ca71eea1a93b24228f9990941211d34481e7f8400afe064736f6c634300081c0033",
  "deployedBytecode": "0x608060405234801561000f575f5ffd5b5060043610610060575f3560e01c8063443eb5701461006457806350aa0795146100b257806362aacea6146100c55780636f43059c1461012d578063b6a6419914610140578063fc92fca514610155575b5f5ffd5b61009f6100723660046105ef565b600160209081525f9283526040909220815180830184018051928152908401929093019190912091525481565b6040519081526020015b60405180910390f35b61009f6100c036600461063a565b610168565b61011d6100d336600461063a565b5f6020818152938152604080822084518086018701805192815290870195870195909520945292909352825290208054600182015460028301546003909301549192909160ff1684565b6040516100a994939291906106a1565b61011d61013b36600461063a565b6102f7565b61015361014e3660046105ef565b6103c1565b005b61009f6101633660046105ef565b6104f8565b6001600160a01b0383165f9081526001602052604080822090518291906101909086906106e1565b90815260200160405180910390205460016101ab91906106f7565b905060405180608001604052808481526020018281526020014281526020015f60018111156101dc576101dc61068d565b90526001600160a01b0386165f908152602081905260409081902090516102049087906106e1565b90815260200160405180910390205f8381526020019081526020015f205f820151815f015560208201518160010155604082015181600201556060820151816003015f6101000a81548160ff021916908360018111156102665761026661068d565b021790555050506001600160a01b0385165f908152600160205260409081902090518291906102969087906106e1565b908152602001604051809103902081905550846001600160a01b03167f551214038e41b26ba4574f3b64616e6fd4d57637adaf59b240080d3effd128aa858386426040516102e79493929190610744565b60405180910390a2949350505050565b5f5f5f5f5f5f5f896001600160a01b03166001600160a01b031681526020019081526020015f208760405161032c91906106e1565b90815260408051602092819003830181205f8a8152908452829020608082018352805482526001808201549483019490945260028101549282019290925260038201549092606084019160ff16908111156103895761038961068d565b600181111561039a5761039a61068d565b905250805160208201516040830151606090930151919b909a509198509650945050505050565b6001600160a01b0382165f9081526001602052604080822090516103e69084906106e1565b90815260200160405180910390205490505f81116104425760405162461bcd60e51b8152602060048201526015602482015274141bdb1a58de48191bd95cc81b9bdd08195e1a5cdd605a1b604482015260640160405180910390fd5b60015f5f856001600160a01b03166001600160a01b031681526020019081526020015f208360405161047491906106e1565b90815260408051602092819003830190205f85815292529020600301805460ff1916600183818111156104a9576104a961068d565b0217905550826001600160a01b03167f220e4e18f818c7edbdeb6b2c99955c11187d492f00e732ece3cb8d59e963a5a58383426040516104eb93929190610772565b60405180910390a2505050565b6001600160a01b0382165f90815260016020526040808220905161051d9084906106e1565b90815260200160405180910390205490505b92915050565b80356001600160a01b038116811461054b575f5ffd5b919050565b634e487b7160e01b5f52604160045260245ffd5b5f82601f830112610573575f5ffd5b813567ffffffffffffffff81111561058d5761058d610550565b604051601f8201601f19908116603f0116810167ffffffffffffffff811182821017156105bc576105bc610550565b6040528181528382016020018510156105d3575f5ffd5b816020850160208301375f918101602001919091529392505050565b5f5f60408385031215610600575f5ffd5b61060983610535565b9150602083013567ffffffffffffffff811115610624575f5ffd5b61063085828601610564565b9150509250929050565b5f5f5f6060848603121561064c575f5ffd5b61065584610535565b9250602084013567ffffffffffffffff811115610670575f5ffd5b61067c86828701610564565b925050604084013590509250925092565b634e487b7160e01b5f52602160045260245ffd5b848152602081018490526040810183905260808101600283106106d257634e487b7160e01b5f52602160045260245ffd5b82606083015295945050505050565b5f82518060208501845e5f920191825250919050565b8082018082111561052f57634e487b7160e01b5f52601160045260245ffd5b5f81518084528060208401602086015e5f602082860101526020601f19601f83011685010191505092915050565b608081525f6107566080830187610716565b6020830195909552506040810192909252606090910152919050565b606081525f6107846060830186610716565b6020830194909452506040015291905056fea2646970667358221220d20ef2d638a8eef69e6ca71eea1a93b24228f9990941211d34481e7f8400afe064736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {},
  "immutableReferences": {},
  "inputSourceName": "project/contracts/PolicyRegistry.sol",
  "buildInfoId": "solc-0_8_28-152a0e088913aa42e2e3a2bbf882334b87823d58"
}